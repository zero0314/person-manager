(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/zhaopinxinxi/add-or-update"],{3217:function(i,e,n){"use strict";var t=n("b049"),a=n.n(t);a.a},"7b0a":function(i,e,n){"use strict";n.r(e);var t=n("ffe7"),a=n.n(t);for(var r in t)"default"!==r&&function(i){n.d(e,i,(function(){return t[i]}))}(r);e["default"]=a.a},"95fb":function(i,e,n){"use strict";(function(i){n("6cdc"),n("921b");t(n("66fd"));var e=t(n("bfb32"));function t(i){return i&&i.__esModule?i:{default:i}}i(e.default)}).call(this,n("543d")["createPage"])},b049:function(i,e,n){},bfb32:function(i,e,n){"use strict";n.r(e);var t=n("f2dc"),a=n("7b0a");for(var r in a)"default"!==r&&function(i){n.d(e,i,(function(){return a[i]}))}(r);n("3217");var o,u=n("f0c5"),s=Object(u["a"])(a["default"],t["b"],t["c"],!1,null,"b39dc7f4",null,!1,t["a"],o);e["default"]=s.exports},f2dc:function(i,e,n){"use strict";var t={"xia-editor":()=>n.e("components/xia-editor/xia-editor").then(n.bind(null,"064f"))},a=function(){var i=this,e=i.$createElement,n=(i._self._c,i.ruleForm.zhaopinfengmian.split(","));i.$mp.data=Object.assign({},{$root:{g0:n}})},r=[];n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return t}))},ffe7:function(i,e,n){"use strict";(function(i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=a(n("a34a"));function a(i){return i&&i.__esModule?i:{default:i}}function r(i,e,n,t,a,r,o){try{var u=i[r](o),s=u.value}catch(h){return void n(h)}u.done?e(s):Promise.resolve(s).then(t,a)}function o(i){return function(){var e=this,n=arguments;return new Promise((function(t,a){var o=i.apply(e,n);function u(i){r(o,t,a,u,s,"next",i)}function s(i){r(o,t,a,u,s,"throw",i)}u(void 0)}))}}var u=function(){return Promise.all([n.e("common/vendor"),n.e("components/w-picker/w-picker")]).then(n.bind(null,"e2b1"))},s=function(){return n.e("components/xia-editor/xia-editor").then(n.bind(null,"064f"))},h={data:function(){return{cross:"",ruleForm:{zhaopinbianhao:this.getUUID(),qiyemingcheng:"",lianxifangshi:"",youxiang:"",zhaopindiqu:"",zhaopinzhuanye:"",zhaopinfengmian:"",zhaopinzhiwei:"",zhaopinrenshu:"",zhiweimiaoshu:"",jibentiaojian:"",gongzidaiyu:"",zhaopinliucheng:""},user:{},ro:{zhaopinbianhao:!1,qiyemingcheng:!1,lianxifangshi:!1,youxiang:!1,zhaopindiqu:!1,zhaopinzhuanye:!1,zhaopinfengmian:!1,zhaopinzhiwei:!1,zhaopinrenshu:!1,zhiweimiaoshu:!1,jibentiaojian:!1,gongzidaiyu:!1,zhaopinliucheng:!1}}},components:{wPicker:u,xiaEditor:s},computed:{baseUrl:function(){return this.$base.url}},onLoad:function(){var e=o(t.default.mark((function e(n){var a,r,o,u;return t.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=i.getStorageSync("nowTable"),e.next=3,this.$api.session(a);case 3:if(r=e.sent,this.user=r.data,this.ruleForm.qiyemingcheng=this.user.qiyemingcheng,this.ro.qiyemingcheng=!0,this.ruleForm.lianxifangshi=this.user.lianxifangshi,this.ro.lianxifangshi=!0,this.ruleForm.youxiang=this.user.youxiang,this.ro.youxiang=!0,this.ruleForm.userid=i.getStorageSync("userid"),n.refid&&(this.ruleForm.refid=n.refid,this.ruleForm.nickname=i.getStorageSync("nickname")),!n.id){e.next=19;break}return this.ruleForm.id=n.id,e.next=17,this.$api.info("zhaopinxinxi",this.ruleForm.id);case 17:r=e.sent,this.ruleForm=r.data;case 19:if(this.cross=n.cross,!n.cross){e.next=79;break}o=i.getStorageSync("crossObj"),e.t0=t.default.keys(o);case 23:if((e.t1=e.t0()).done){e.next=79;break}if(u=e.t1.value,"zhaopinbianhao"!=u){e.next=29;break}return this.ruleForm.zhaopinbianhao=o[u],this.ro.zhaopinbianhao=!0,e.abrupt("continue",23);case 29:if("qiyemingcheng"!=u){e.next=33;break}return this.ruleForm.qiyemingcheng=o[u],this.ro.qiyemingcheng=!0,e.abrupt("continue",23);case 33:if("lianxifangshi"!=u){e.next=37;break}return this.ruleForm.lianxifangshi=o[u],this.ro.lianxifangshi=!0,e.abrupt("continue",23);case 37:if("youxiang"!=u){e.next=41;break}return this.ruleForm.youxiang=o[u],this.ro.youxiang=!0,e.abrupt("continue",23);case 41:if("zhaopindiqu"!=u){e.next=45;break}return this.ruleForm.zhaopindiqu=o[u],this.ro.zhaopindiqu=!0,e.abrupt("continue",23);case 45:if("zhaopinzhuanye"!=u){e.next=49;break}return this.ruleForm.zhaopinzhuanye=o[u],this.ro.zhaopinzhuanye=!0,e.abrupt("continue",23);case 49:if("zhaopinfengmian"!=u){e.next=53;break}return this.ruleForm.zhaopinfengmian=o[u].split(",")[0],this.ro.zhaopinfengmian=!0,e.abrupt("continue",23);case 53:if("zhaopinzhiwei"!=u){e.next=57;break}return this.ruleForm.zhaopinzhiwei=o[u],this.ro.zhaopinzhiwei=!0,e.abrupt("continue",23);case 57:if("zhaopinrenshu"!=u){e.next=61;break}return this.ruleForm.zhaopinrenshu=o[u],this.ro.zhaopinrenshu=!0,e.abrupt("continue",23);case 61:if("zhiweimiaoshu"!=u){e.next=65;break}return this.ruleForm.zhiweimiaoshu=o[u],this.ro.zhiweimiaoshu=!0,e.abrupt("continue",23);case 65:if("jibentiaojian"!=u){e.next=69;break}return this.ruleForm.jibentiaojian=o[u],this.ro.jibentiaojian=!0,e.abrupt("continue",23);case 69:if("gongzidaiyu"!=u){e.next=73;break}return this.ruleForm.gongzidaiyu=o[u],this.ro.gongzidaiyu=!0,e.abrupt("continue",23);case 73:if("zhaopinliucheng"!=u){e.next=77;break}return this.ruleForm.zhaopinliucheng=o[u],this.ro.zhaopinliucheng=!0,e.abrupt("continue",23);case 77:e.next=23;break;case 79:this.styleChange();case 80:case"end":return e.stop()}}),e,this)})));function n(i){return e.apply(this,arguments)}return n}(),methods:{zhiweimiaoshuChange:function(i){this.ruleForm.zhiweimiaoshu=i},jibentiaojianChange:function(i){this.ruleForm.jibentiaojian=i},gongzidaiyuChange:function(i){this.ruleForm.gongzidaiyu=i},zhaopinliuchengChange:function(i){this.ruleForm.zhaopinliucheng=i},styleChange:function(){this.$nextTick((function(){}))},zhaopinfengmianTap:function(){var i=this;this.$api.upload((function(e){i.ruleForm.zhaopinfengmian="upload/"+e.file,i.$forceUpdate(),i.$nextTick((function(){i.styleChange()}))}))},getUUID:function(){return(new Date).getTime()},onSubmitTap:function(){var e=o(t.default.mark((function e(){var n,a,r,o,u,s,h,c,f,l;return t.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.ruleForm.zhaopinrenshu||this.$validate.isIntNumer(this.ruleForm.zhaopinrenshu)){e.next=3;break}return this.$utils.msg("招聘人数应输入整数"),e.abrupt("return");case 3:if(!this.cross){e.next=19;break}if(u=i.getStorageSync("statusColumnName"),s=i.getStorageSync("statusColumnValue"),""==u){e.next=19;break}if(n||(n=i.getStorageSync("crossObj")),u.startsWith("[")){e.next=15;break}for(h in n)h==u&&(n[h]=s);return c=i.getStorageSync("crossTable"),e.next=13,this.$api.update("".concat(c),n);case 13:e.next=19;break;case 15:a=Number(i.getStorageSync("userid")),r=n["id"],o=i.getStorageSync("statusColumnName"),o=o.replace(/\[/,"").replace(/\]/,"");case 19:if(!r||!a){e.next=41;break}return this.ruleForm.crossuserid=a,this.ruleForm.crossrefid=r,f={page:1,limit:10,crossuserid:a,crossrefid:r},e.next=25,this.$api.list("zhaopinxinxi",f);case 25:if(l=e.sent,!(l.data.total>=o)){e.next=31;break}return this.$utils.msg(i.getStorageSync("tips")),e.abrupt("return",!1);case 31:if(!this.ruleForm.id){e.next=36;break}return e.next=34,this.$api.update("zhaopinxinxi",this.ruleForm);case 34:e.next=38;break;case 36:return e.next=38,this.$api.add("zhaopinxinxi",this.ruleForm);case 38:this.$utils.msgBack("提交成功");case 39:e.next=49;break;case 41:if(!this.ruleForm.id){e.next=46;break}return e.next=44,this.$api.update("zhaopinxinxi",this.ruleForm);case 44:e.next=48;break;case 46:return e.next=48,this.$api.add("zhaopinxinxi",this.ruleForm);case 48:this.$utils.msgBack("提交成功");case 49:case"end":return e.stop()}}),e,this)})));function n(){return e.apply(this,arguments)}return n}(),optionsChange:function(i){this.index=i.target.value},bindDateChange:function(i){this.date=i.target.value},getDate:function(i){var e=new Date,n=e.getFullYear(),t=e.getMonth()+1,a=e.getDate();return"start"===i?n-=60:"end"===i&&(n+=2),t=t>9?t:"0"+t,a=a>9?a:"0"+a,"".concat(n,"-").concat(t,"-").concat(a)},toggleTab:function(i){this.$refs[i].show()}}};e.default=h}).call(this,n("543d")["default"])}},[["95fb","common/runtime","common/vendor"]]]);